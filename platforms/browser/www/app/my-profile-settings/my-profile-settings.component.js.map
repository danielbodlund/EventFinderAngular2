{"version":3,"file":"my-profile-settings.component.js","sourceRoot":"","sources":["../../src/app/my-profile-settings/my-profile-settings.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;AAAA,qBAAwC,eAAe,CAAC,CAAA;AACxD,6BAAyF,cAAc,CAAC,CAAA;AACxG,kCAA4F,4BAA4B,CAAC,CAAA;AAazH;IAQE,oCAAwC,GAAO,EAAS,IAAe,EAAS,MAAmB,EAAU,MAAc,EAAS,EAAe;QAA3G,QAAG,GAAH,GAAG,CAAI;QAAS,SAAI,GAAJ,IAAI,CAAW;QAAS,WAAM,GAAN,MAAM,CAAa;QAAU,WAAM,GAAN,MAAM,CAAQ;QAAS,OAAE,GAAF,EAAE,CAAa;QAJnJ,gBAAW,GAAW,EAAE,CAAC;QACzB,kBAAa,GAAU,EAAE,CAAC;QAC1B,aAAQ,GAAW,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC,QAAQ,CAAC,eAAe,CAAC;IAEuF,CAAC;IAEvJ,6CAAQ,GAAR;IACA,CAAC;IAED,mDAAc,GAAd;QAAA,iBA6BK;QA5BF,kBAAkB;QACjB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YACjD,EAAE,CAAA,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;gBACtC,IAAI,CAAC,aAAa,GAAG,0CAA0C,CAAC;gBAChE,MAAM,CAAC;YACT,CAAC;QACH,CAAC;QAEH,IAAI,CAAC,GAAG,CAAC,cAAc,CAAC;YACtB,KAAK,EAAE,IAAI,CAAC,KAAK;YACjB,WAAW,EAAE,IAAI,CAAC,WAAW;YAC7B,WAAW,EAAE,IAAI,CAAC,WAAW;SAC9B,EAAE,UAAA,KAAK;YACN,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;gBACV,MAAM,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;oBACnB,KAAK,kBAAkB;wBACrB,KAAI,CAAC,aAAa,GAAG,qBAAqB,CAAC;wBAC3C,KAAK,CAAC;oBACR,KAAK,cAAc;wBACjB,KAAI,CAAC,aAAa,GAAG,4CAA4C,CAAC;wBAClE,KAAK,CAAC;oBACR;wBACE,OAAO,CAAC,GAAG,CAAC,0BAA0B,EAAE,KAAK,CAAC,CAAC;gBACnD,CAAC;YACH,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,KAAI,CAAC,aAAa,GAAG,kBAAkB,CAAC;YAC1C,CAAC;QACH,CAAC,CAAC,CAAC;IACD,CAAC;IAhDP;QAAC,gBAAS,CAAC;YACT,QAAQ,EAAE,MAAM,CAAC,EAAE;YACnB,QAAQ,EAAE,qBAAqB;YAC/B,WAAW,EAAE,oCAAoC;YACjD,SAAS,EAAE,CAAC,mCAAmC,CAAC;SACjD,CAAC;mBASa,aAAM,CAAC,0BAAW,CAAC;;kCAThC;IA6CF,iCAAC;AAAD,CAAC,AA5CD,IA4CC;AA5CY,kCAA0B,6BA4CtC,CAAA","sourcesContent":["import {Component, OnInit, Inject} from '@angular/core';\nimport {AngularFire, FirebaseListObservable, FirebaseObjectObservable, FirebaseRef} from 'angularfire2';\nimport {RouteData, Router, RouteParams, OnActivate, ComponentInstruction, CanActivate} from '@angular/router-deprecated';\nimport {Http} from '@angular/http';\nimport {RouteConfig, ROUTER_DIRECTIVES, ROUTER_PROVIDERS} from '@angular/router-deprecated';\nimport {MyMainComponent} from '../my-main'\n\n\n\n@Component({\n  moduleId: module.id,\n  selector: 'my-profile-settings',\n  templateUrl: 'my-profile-settings.component.html',\n  styleUrls: ['my-profile-settings.component.css']\n})\nexport class MyProfileSettingsComponent implements OnInit {\n  \n  email: string;\n  oldPassword: string;\n  newPassword: string = '';\n  loginNotation: string ='';\n  gravatar: string = this.ref.getAuth().password.profileImageURL;\n  \n  constructor(@Inject(FirebaseRef) public ref:any, public data: RouteData, public params: RouteParams, private router: Router, public af: AngularFire) {}\n  \n  ngOnInit() {\n  }\n  \n  changePassword() {\n     // Look for spaces\n      for (let i = 0; i < this.newPassword.length; i++) {\n        if(this.newPassword.charAt(i) === ' ') {\n          this.loginNotation = 'Lösenordet får inte inehålla mellanslag.';\n          return;\n        }\n      }\n      \n    this.ref.changePassword({\n      email: this.email,\n      oldPassword: this.oldPassword,\n      newPassword: this.newPassword\n    }, error => {\n      if (error) {\n        switch (error.code) {\n          case \"INVALID_PASSWORD\":\n            this.loginNotation = 'Felaktigt lösenord.';\n            break;\n          case \"INVALID_USER\":\n            this.loginNotation = 'Det finns ingen användare med denna email.';\n            break;\n          default:\n            console.log(\"Error changing password:\", error);\n        }\n      } else {\n        this.loginNotation = \"Lösenord ändrat!\";\n      }\n    });\n      }\n\n}\n"]}